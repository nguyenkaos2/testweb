

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Classes &mdash; Python Tips 0.1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Python Tips 0.1 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Python Tips
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="args_and_kwargs.html">1. *args and **kwargs</a></li>
<li class="toctree-l1"><a class="reference internal" href="debugging.html">2. Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="generators.html">3. Generators</a></li>
<li class="toctree-l1"><a class="reference internal" href="map_filter.html">4. Map, Filter and Reduce</a></li>
<li class="toctree-l1"><a class="reference internal" href="set_-_data_structure.html">5. <code class="docutils literal"><span class="pre">set</span></code> Data Structure</a></li>
<li class="toctree-l1"><a class="reference internal" href="ternary_operators.html">6. Ternary Operators</a></li>
<li class="toctree-l1"><a class="reference internal" href="decorators.html">7. Decorators</a></li>
<li class="toctree-l1"><a class="reference internal" href="global_&amp;_return.html">8. Global &amp; Return</a></li>
<li class="toctree-l1"><a class="reference internal" href="mutation.html">9. Mutation</a></li>
<li class="toctree-l1"><a class="reference internal" href="__slots__magic.html">10. __slots__ Magic</a></li>
<li class="toctree-l1"><a class="reference internal" href="virtual_environment.html">11. Virtual Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="collections.html">12. Collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="enumerate.html">13. Enumerate</a></li>
<li class="toctree-l1"><a class="reference internal" href="object_introspection.html">14. Object introspection</a></li>
<li class="toctree-l1"><a class="reference internal" href="comprehensions.html">15. Comprehensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="exceptions.html">16. Exceptions</a></li>
<li class="toctree-l1"><a class="reference internal" href="lambdas.html">17. Lambdas</a></li>
<li class="toctree-l1"><a class="reference internal" href="one_liners.html">18. One-Liners</a></li>
<li class="toctree-l1"><a class="reference internal" href="for_-_else.html">19. For - Else</a></li>
<li class="toctree-l1"><a class="reference internal" href="python_c_extension.html">20. Python C extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="open_function.html">21. <code class="docutils literal"><span class="pre">open</span></code> Function</a></li>
<li class="toctree-l1"><a class="reference internal" href="targeting_python_2_3.html">22. Targeting Python 2+3</a></li>
<li class="toctree-l1"><a class="reference internal" href="coroutines.html">23. Coroutines</a></li>
<li class="toctree-l1"><a class="reference internal" href="function_caching.html">24. Function caching</a></li>
<li class="toctree-l1"><a class="reference internal" href="context_managers.html">25. Context managers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Python Tips</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Classes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/classes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="classes">
<h1>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h1>
<p>Classes are the core of Python. They give us a lot of power but it is
really easy to misuse this power. In this section I will share some
obscure tricks and caveats related to <code class="docutils literal"><span class="pre">classes</span></code> in Python. Let’s get
going!</p>
<div class="section" id="instance-class-variables">
<h2>1. Instance &amp; Class variables<a class="headerlink" href="#instance-class-variables" title="Permalink to this headline">¶</a></h2>
<p>Most beginners and even some advanced Python programmers do not
understand the distinction between instance and class variables. Their
lack of understanding forces them to use these different types of
variables incorrectly. Let’s understand them.</p>
<p>The basic difference is:</p>
<ul class="simple">
<li>Instance variables are for data which is unique to every object</li>
<li>Class variables are for data shared between different instances of a
class</li>
</ul>
<p>Let’s take a look at an example:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Cal</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="c1"># pi is a class variable</span>
    <span class="n">pi</span> <span class="o">=</span> <span class="mf">3.142</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">radius</span><span class="p">):</span>
        <span class="c1"># self.radius is an instance variable</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">=</span> <span class="n">radius</span>

    <span class="k">def</span> <span class="nf">area</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">radius</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">Cal</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
<span class="n">a</span><span class="o">.</span><span class="n">area</span><span class="p">()</span>
<span class="c1"># Output: 3217.408</span>
<span class="n">a</span><span class="o">.</span><span class="n">pi</span>
<span class="c1"># Output: 3.142</span>
<span class="n">a</span><span class="o">.</span><span class="n">pi</span> <span class="o">=</span> <span class="mi">43</span>
<span class="n">a</span><span class="o">.</span><span class="n">pi</span>
<span class="c1"># Output: 43</span>

<span class="n">b</span> <span class="o">=</span> <span class="n">Cal</span><span class="p">(</span><span class="mi">44</span><span class="p">)</span>
<span class="n">b</span><span class="o">.</span><span class="n">area</span><span class="p">()</span>
<span class="c1"># Output: 6082.912</span>
<span class="n">b</span><span class="o">.</span><span class="n">pi</span>
<span class="c1"># Output: 3.142</span>
<span class="n">b</span><span class="o">.</span><span class="n">pi</span> <span class="o">=</span> <span class="mi">50</span>
<span class="n">b</span><span class="o">.</span><span class="n">pi</span>
<span class="c1"># Output: 50</span>
</pre></div>
</div>
<p>There are not many issues while using mutable class variables. This is
the major reason due to which beginners do not try to learn more about
this subject because everything works! If you also believe that instance
and class variables can not cause any problem if used incorrectly then
check the next example.</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">SuperClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">superpowers</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">def</span> <span class="nf">add_superpower</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">power</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">superpowers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">power</span><span class="p">)</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">SuperClass</span><span class="p">(</span><span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="n">bar</span> <span class="o">=</span> <span class="n">SuperClass</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">)</span>
<span class="n">foo</span><span class="o">.</span><span class="n">name</span>
<span class="c1"># Output: &#39;foo&#39;</span>

<span class="n">bar</span><span class="o">.</span><span class="n">name</span>
<span class="c1"># Output: &#39;bar&#39;</span>

<span class="n">foo</span><span class="o">.</span><span class="n">add_superpower</span><span class="p">(</span><span class="s1">&#39;fly&#39;</span><span class="p">)</span>
<span class="n">bar</span><span class="o">.</span><span class="n">superpowers</span>
<span class="c1"># Output: [&#39;fly&#39;]</span>

<span class="n">foo</span><span class="o">.</span><span class="n">superpowers</span>
<span class="c1"># Output: [&#39;fly&#39;]</span>
</pre></div>
</div>
<p>That is the beauty of the wrong usage of mutable class variables. To
make your code safe against this kind of surprise attacks then make sure
that you do not use mutable class variables. You may use them only if
you know what you are doing.</p>
</div>
<div class="section" id="new-style-classes">
<h2>2. New style classes<a class="headerlink" href="#new-style-classes" title="Permalink to this headline">¶</a></h2>
<p>New style classes were introduced in Python 2.1 but a lot of people do
not know about them even now! It is so because Python also supports old
style classes just to maintain backward compatibility. I have said a lot
about new and old but I have not told you about the difference. Well the
major difference is that:</p>
<ul class="simple">
<li>Old base classes do not inherit from anything</li>
<li>New style base classes inherit from <code class="docutils literal"><span class="pre">object</span></code></li>
</ul>
<p>A very basic example is:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">OldClass</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I am an old class&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">NewClass</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I am a jazzy new class&#39;</span><span class="p">)</span>

<span class="n">old</span> <span class="o">=</span> <span class="n">OldClass</span><span class="p">()</span>
<span class="c1"># Output: I am an old class</span>

<span class="n">new</span> <span class="o">=</span> <span class="n">NewClass</span><span class="p">()</span>
<span class="c1"># Output: I am a jazzy new class</span>
</pre></div>
</div>
<p>This inheritance from <code class="docutils literal"><span class="pre">object</span></code> allows new style classes to utilize
some <em>magic</em>. A major advantage is that you can employ some useful
optimizations like <code class="docutils literal"><span class="pre">__slots__</span></code>. You can use <code class="docutils literal"><span class="pre">super()</span></code> and
descriptors and the likes. Bottom line? Always try to use new-style
classes.</p>
<p><strong>Note:</strong> Python 3 only has new-style classes. It does not matter
whether you subclass from <code class="docutils literal"><span class="pre">object</span></code> or not. However it is recommended
that you still subclass from <code class="docutils literal"><span class="pre">object</span></code>.</p>
</div>
<div class="section" id="magic-methods">
<h2>3. Magic Methods<a class="headerlink" href="#magic-methods" title="Permalink to this headline">¶</a></h2>
<p>Python’s classes are famous for their magic methods, commonly called
<strong>dunder</strong> (double underscore) methods. I am going to discuss a few of
them.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">__init__</span></code></li>
</ul>
<p>It is a class initializer. Whenever an instance of a class is created
its <code class="docutils literal"><span class="pre">__init__</span></code> method is called. For example:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">GetTest</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Greetings!!&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">another_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I am another method which is not&#39;</span>
              <span class="s1">&#39; automatically called&#39;</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">GetTest</span><span class="p">()</span>
<span class="c1"># Output: Greetings!!</span>

<span class="n">a</span><span class="o">.</span><span class="n">another_method</span><span class="p">()</span>
<span class="c1"># Output: I am another method which is not automatically</span>
<span class="c1"># called</span>
</pre></div>
</div>
<p>You can see that <code class="docutils literal"><span class="pre">__init__</span></code> is called immediately after an instance is
created. You can also pass arguments to the class during it’s
initialization. Like this:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">GetTest</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Greetings!! </span><span class="si">{0}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">name</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">another_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;I am another method which is not&#39;</span>
              <span class="s1">&#39; automatically called&#39;</span><span class="p">)</span>

<span class="n">a</span> <span class="o">=</span> <span class="n">GetTest</span><span class="p">(</span><span class="s1">&#39;yasoob&#39;</span><span class="p">)</span>
<span class="c1"># Output: Greetings!! yasoob</span>

<span class="c1"># Try creating an instance without the name arguments</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">GetTest</span><span class="p">()</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;&lt;stdin&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">TypeError</span><span class="p">:</span> <span class="fm">__init__</span><span class="p">()</span> <span class="n">takes</span> <span class="n">exactly</span> <span class="mi">2</span> <span class="n">arguments</span> <span class="p">(</span><span class="mi">1</span> <span class="n">given</span><span class="p">)</span>
</pre></div>
</div>
<p>I am sure that now you understand the <code class="docutils literal"><span class="pre">__init__</span></code> method.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">__getitem__</span></code></li>
</ul>
<p>Implementing <strong>getitem</strong> in a class allows its instances to use the []
(indexer) operator. Here is an example:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">GetTest</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s1">&#39;name&#39;</span><span class="p">:</span><span class="s1">&#39;Yasoob&#39;</span><span class="p">,</span>
            <span class="s1">&#39;country&#39;</span><span class="p">:</span><span class="s1">&#39;Pakistan&#39;</span><span class="p">,</span>
            <span class="s1">&#39;number&#39;</span><span class="p">:</span><span class="mi">12345812</span>
        <span class="p">}</span>

    <span class="k">def</span> <span class="nf">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">i</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">info</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>

<span class="n">foo</span> <span class="o">=</span> <span class="n">OldClass</span><span class="p">()</span>
<span class="n">foo</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>
<span class="c1"># Output: &#39;Yasoob&#39;</span>

<span class="n">foo</span><span class="p">[</span><span class="s1">&#39;number&#39;</span><span class="p">]</span>
<span class="c1"># Output: 36845124</span>
</pre></div>
</div>
<p>Without the <code class="docutils literal"><span class="pre">__getitem__</span></code> method we would have got this error:</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">foo</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span>

<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">TypeError</span>: <span class="n">&#39;GetTest&#39; object has no attribute &#39;__getitem__&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="static-class-abstract-methods">
<h2>Static, Class &amp; Abstract methods<a class="headerlink" href="#static-class-abstract-methods" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Muhammad Yasoob Ullah Khalid.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>